{% set listConstructor = cloudConstructor.list[0] %}
{% set listOrigin = "genericlist" %}
{# for know if list.html is invoked directly from controller and we need to make modals inside list#}

<div class="dropzone" attr-id="{{ listConstructor.id }}" attr-path="{{cloudConstructor.path}}"><div class="dz-message" data-dz-message>
  {{ include('@Globale/list.html.twig') }}
  <script>
    $(document).ready(function(){
      Dropzone.autoDiscover = false;
      var jsonFiles = [];
      var dropzone_default = new Dropzone(".dropzone", {
          url: '{{cloudConstructor.path}}',
          maxFilesize: 20,  // in Mb
          addRemoveLinks: false,
          clickable: '#uploadWorker-top-button',
          init: function () {
              this.on("maxfilesexceeded", function(file) {
                  this.removeFile(file);
              });
              this.on("success", function(file, response) {
                  if (response.uploaded){
                    this.removeFile(file);
                    $("#{{ listConstructor.id }}").DataTable().ajax.reload();
                  }
              });
          }
      });

    });
    </script>
</div></div>
