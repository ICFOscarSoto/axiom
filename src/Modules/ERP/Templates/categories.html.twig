{% set params = app.request.attributes.get('_route_params')|merge(app.request.query.all()) %}
{% block header %}
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta name="description" content="Neon Admin Panel" />
	<meta name="author" content="" />
	{{ include('@Globale/header.html.twig') }}
	<!-- Imported styles on this page -->
	<link rel="stylesheet" href="{{ url('index') }}/js/jvectormap/jquery-jvectormap-1.2.2.css">
	<link rel="stylesheet" href="{{ url('index') }}/js/rickshaw/rickshaw.min.css">
{% endblock %}
<title>{% block title %}{{ interfaceName }}{% endblock %}</title>
<body class="page-body" data-url="{{ url('indexAdmin') }}">
<div class="page-container"><!-- add class "sidebar-collapsed" to close sidebar by default, "chat-visible" to make chat appear always -->
	{{ include('@Globale/sidebar_menu.html.twig') }}
	<div class="main-content">
		{{ include('@Globale/head.html.twig') }}
		<hr />
		{{ include('@Globale/breadcrumb.html.twig') }}
		{#}<h2>{{ interfaceName }}</h2>#}
		<!-- MAIN CONTENT -->
		<div id="list-2" class="nested-list dd with-margins custom-drag-button"><!-- adding class "custom-drag-button" will create specific handler for dragging list items -->
		<script>

		$(document).ready(function() {
			function parseCategory(element){
				var data='';
				data+='<ul class="dd-list">';
				element.forEach( function(valor, indice, array) {

												data+='<li class="dd-item">'+
													'<div class="dd-handle">'+
														'<span>.</span>'+
														'<span>.</span>'+
														'<span>.</span>'+
													'</div>'+
													'<div class="dd-content">'+
														valor.name+
													'</div>'+
													((valor.childrens.length>0)?parseCategory(valor.childrens):'')+
												'</li>';
				});
				data+='</ul>';
				return data;
			}
			var categories='{{ categories }}';
			categories=categories.replace(/&quot;/g,'"');
			categories = $.parseJSON(categories);
			categories.forEach( function(valor, indice, array) {
				$("#categories").append('<ul class="dd-list">'+
											'<li class="dd-item">'+
												'<div class="dd-handle">'+
													'<span>.</span>'+
													'<span>.</span>'+
													'<span>.</span>'+
												'</div>'+
												'<div class="dd-content">'+
													valor.name+
												'</div>'+
													((valor.childrens.length>0)?parseCategory(valor.childrens):'')+
											'</li>'+
										'</ul>');
			});
		});
		</script>
		<div id="categories"></div>
		
		                <script type="text/javascript">
		                		jQuery(document).ready(function($)
		                		{
		                			$('.dd').nestable({});
		                		});
		                		</script>

	<!-- END MODALS -->
{% block footer %}

	<link rel="stylesheet" href="{{ url('index') }}js/datatables/datatables.css">
	<link rel="stylesheet" href="{{ url('index') }}js/select2/select2-bootstrap.css">
	<link rel="stylesheet" href="{{ url('index') }}js/select2/select2.css">
	<link rel="stylesheet" href="{{ url('index') }}css/custom.css">

	<!-- Imported scripts on this page -->
	<script src="{{ url('index') }}js/jquery.nestable.js"></script>
	<script src="{{ url('index') }}js/datatables/datatables.js"></script>
	<script src="{{ url('index') }}js/select2/select2.min.js"></script>
	<script src="{{ url('index') }}js/moment.min.js"></script>
	<script src="{{ url('index') }}js/moment-duration-format.min.js"></script>
	 {{ include('@Globale/bottom.html.twig') }}
{% endblock %}
</body>
